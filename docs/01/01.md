# 1. SQL을 직접 다룰 때 발생하는 문제점

- 데이터베이스에 데이터를 관리하려면 SQL을 사용해야 한다.
- 자바로 작성한 애플리케이션은 JDBC API를 사용해 SQL을 데이터베이스에 전달한다.

## 1.1 반복, 반복 그리고 반복

- SQL을 직접 다룰 때의 문제점을 알아보기 위해 회원 관리 기능을 개발해본다.
- 회원 테이블은 이미 만들어져 있다고 가정하고 회원을 CRUD하는 기능을 개발한다.
- 자바에서 사용할 회원(Member) 객체를 만들어 본다.

```java
public class Member {
    private String memberId;
    private String name;
    // ...
}
```

- 회원 객체를 데이터베이스에 관리할 목적으로 회원용 DAO를 만들어 본다.
- `MemberDAO::find()`를 개발할 때 보통 다음 순서로 개발한다.
    1. 회원 조회용 SQL을 작성한다.
    2. JDBC API를 사용해서 SQL을 실행한다.
    3. 조회 결과를 Member 객체로 매핑한다.

```java
public class MemberDAO {
    public Member find(String memberId) { /* ... */ }
}
```

- 다음으로 회원 조희 기능을 만들어 본다.
- `MemberDAO::save()`를 개발할 때 보통 다음 순서로 개발한다.
    1. 회원 등록용 SQL을 작성한다.
    2. 회원 객체 값을 꺼내서 등록 SQL에 전달한다.
    3. JDBC API를 사용해서 SQL을 실행한다.
    
```java
public class MemberDAO {
    // ...
    public void save(Member member) { /* ... */ }
}
```

- 비슷하게 회원을 수정하고 삭제하는 기능도 추가해본다.
- 데이터베이스는 객체 구조와 다른 데이터 중심 구조이므로 개발자가 일일이 변환작업을 해주어야 한다.
- 문제는 CRUD를 하는 과정에 너무 많은 SQL과 JDBC API를 코드로 작성해야 하며 테이블마다 비슷한 일을 반복해야 한다.

-----
[Home](./index.md)